Kabul, Afghanistan (CNN) -- An Afghan employee of the U.S. Embassy in Afghanistan who opened fire at a CIA annex there worked as part of a local guard force, a U.S. official said Monday.

Embassy spokesman Gavin Sundwall said the lone gunman killed a U.S. citizen and wounded another in the shootings Sunday. The wounded American was evacuated to a military hospital with injuries that were not life-threatening.

Security personnel used a flash-bang round to stun the shooter and then killed him, according to another U.S. official who earlier provided details of the incident.

The gunman shot indiscriminately, and he is not believed to have targeted the victims, the second U.S. official said. One or two civilians suffered minor wounds as people went running for cover, the official added.

The American killed was a CIA employee, according to a third U.S. official. The official said the gunman fired toward the building but never entered it.

All the sources spoke on condition of not being identified.

The FBI is investigating the attack, along with other U.S. agencies and local authorities, a U.S. official said.

Another official said the FBI is the lead agency in the investigation. CIA and diplomatic security officials also are involved.

The first U.S. official said the shooter "is believed to have worked as part of the local guard force" and added that no motive has been established.

Investigators are looking into whether the shooter was a disgruntled employee or whether he was inspired by militants.

All Afghan employees go through a background security check and must pass through a metal detector each time they enter the Embassy, the second official said.

"We have no information as to whether the individual was authorized to carry a weapon or if he seized a weapon," the official said.

Afghan troops guard the outer perimeter of the Embassy, while embassy contractors and members of the U.S. military guard the inside.

The CIA building is several hundred yards from the Embassy compound and has its own entrance and security, according to another U.S. official.

Embassy personnel usually travel in armored cars for meetings in the CIA facility.

"It's not possible to stop everything from happening. You can only limit it, make it highly unlikely," said the official, who also spoke on condition of anonymity. "The job of soldiers and diplomats and spies is to be amongst the people, getting work done. You have to have some level of trust to get anything done."

"There is a calculated risk" for U.S. personnel working in countries like Afghanistan, the official said.

The annex area is known as a place where Embassy personnel both live and work, some in intelligence operations. A CIA spokeswoman declined to comment on the attack.

Afghanistan has been the site of several high-profile attacks of late, including strikes at the NATO headquarters and the U.S. Embassy in Kabul and the assassination of former Afghan President Burhanuddin Rabbani. Rabbani had been leading efforts for reconciliation talks.

The latest shooting is not believed to be related to any other recent attacks in Kabul, U.S. officials said.

In December 2009, a Jordanian informant detonated a suicide bomb at a CIA base in Khost, Afghanistan, killing seven CIA employees and two others.

A CIA review of the incident found that some people within the CIA and the Jordanian intelligence service were skeptical about the attacker's reliability, but those concerns had not been passed on to officers on the base.

CNN's Barbara Starr, Nick Paton Walsh, Carol Cratty and Pam Benson contributed to this report.

@highlight

A source says the Afghan attacker was part of a local guard force

@highlight

A U.S. official says the American killed was a CIA employee

@highlight

The gunman shot indiscriminately, an official says