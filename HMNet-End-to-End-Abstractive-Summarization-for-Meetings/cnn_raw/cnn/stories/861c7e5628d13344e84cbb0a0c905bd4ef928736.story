(CNN)  -- An injury-time goal from substitute Nilmar secured Villarreal a 3-2 at Bayer Leverkusen in the first leg of their last-16 Europa League tie on Thursday.

The Spanish team twice came from behind to level the game before snatching victory just before the final whistle, four minutes into time added on.

Czech international Michal Kadlec put second-placed German Bundesliga side Leverkusen 1-0 up in the 18th minute, but Italy forward Giuseppe Rossi equalized for La Liga's Villarreal five minutes before the interval.

Leverkusen took the lead for the second time in the 70th minute through Uruguay winger Gonzalo Castro, but once again the home team's advantage was short-lived as Nilmar -- a 69th-minute replacement for Rossi -- scored the first of his double just two minutes later.

Kiev defeat dents Manchester City hopes

And the Brazil striker then found the net for the second time in the dying minutes of the game to complete a stunning win for Villarreal, as he controlled a long ball from fellow substitute Joan Oriol,.

English Premier League side Liverpool crashed back down to earth with a 1-0 defeat at Portugal's SC Braga in their first-leg tie, having beaten Manchester United 3-1 on Sunday.

Braga took the lead in the 18th minute courtesy of a penalty from Brazilian winger Alan Silva, after Mossoro was fouled by Greek defender Sotiris Kyrgiakos.

Despite having picked up a stomach injury in Braga's impressive win over Benfica on Saturday, Alan had no trouble in driving a low shot past goalkeeper Pepe Reina.

It was Liverpool's first defeat in 12 European outings this season in a much-changed line-up from Sunday.

Skipper Steven Gerrard did not travel to Portugal because of a long-standing groin injury, and Uruguay striker Luis Suarez was ineligible for selection.

Record signing Andy Carroll --  who like Suarez was signed on the last day of the January transfer window -- made his debut in the European competition, but the England forward could not effect the outcome despite his strong presence in the air.

Portuguese league leaders FC Porto secured a 1-0 victory at Russian club CSKA Moscow in their round of 16 clash, thanks to a 70th-minute strike from Colombian striker Freddy Guarin.

The tie between top Dutch Eredivise side PSV Eindhoven and second-placed Scottish Premier League team Rangers ended in a goalless draw ahead of next week's second leg.

@highlight

Villarreal beat Bayer Leverkusen 3-2 in first leg of Europa League last-16 tie

@highlight

Goal from striker Nilmar in 94th minute secures victory for the La Liga side

@highlight

Liverpool lose their first-leg encounter away at Braga 1-0 after giving away a penalty

@highlight

Porto beat CSKA Moscow 1-0, while Rangers draw 0-0 at PSV Eindhoven