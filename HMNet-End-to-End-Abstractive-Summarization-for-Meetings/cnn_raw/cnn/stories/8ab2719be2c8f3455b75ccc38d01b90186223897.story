The obscure banking provision that threatened to derail the recently passed government funding measure was derided by Democrats as a sop to Wall Street.

But some on the left have a John Kerry-esque problem with the "Boehner Bank Bailout" -- they were for it before they were against it.

At issue, was the so-called push-out regulation, which was designed to prevent banks from using government insured money to make risky investments -- like the loan swaps that fueled the 2008 financial crisis. Buried inside the 1,600-page spending proposal to keep the government running is a small provision to end that prohibition.

Democrats were livid.

But last fall, that same proposal was considered by the Republican-controlled House. The bill, the majority of which was written by Citigroup and other Wall Street banks, passed with the support of 70 Democrats.

On Thursday, 28 House Democrats seemingly changed their mind, voting against the spending bill that included the rollback provision -- a provision that became the rallying cry for progressive Democrats hoping to kill the bill. Of course, the massive legislation gives lawmakers lots of potential explanations for why they changed their votes. But whatever the explanation, in politics, it's still scored as a flip-flop.

Many progressive Democrats complained that the rollback was snuck into the bill at the last minute. Not true, said Republican and Democratic sources familiar with the negotiations. It had been an issue for weeks.

On the House floor, California Rep. Maxine Waters blasted the rollback as a danger to consumers.

"They know that we bailed out the big banks and know that we would be putting them at risk one more time to bail them out if we allow them to do this risky derivatives trading," she said.

The top Democrat on the House Financial Services Committee, Waters urged her colleagues to vote against the spending bill unless Republicans removed the regulatory rollback. She was shocked to learn that both President Barack Obama and Vice President Joe Biden were calling lawmakers asking them to pass the bill.

But just two years ago, Waters supported a proposal that would have done exactly the same thing she opposed last week, allowing banks to buy risky financial instruments with government backed money. Back then, even Democratic Rep. Barney Frank, whose name is on the Wall Street reform law, supported the rollback.

Waters evolution on the issue started a year and a half ago - in the wake of a high profile scandal involving a trader known as the "London Whale" who engaged in swaps that generated billions in losses. She opposed the measure the House passed last fall, arguing regulations should stay in place overseeing these transactions.

Waters defended her new position saying in a statement to CNN that, "It's become clear that Wall Street derivatives trading has not yet been sufficiently reigned in by our regulators."

She says she's in good company, noting that Frank, who has since retired from Congress, has changed his position and supports barring banks from using government-backed money on risky transactions.

But the idea was never beloved by Democrats to begin with. Championed in 2010 by then-Democratic Sen. Blanche Lincoln as she tacked left during a tough primary fight, then-Treasury Secretary Tim Geithner and then-Federal Reserve Chairman Ben Bernanke -- both Obama picks -- were unsupportive.

RELATED: Congress passes spending bill, avoids shutdown

So perhaps it's no wonder that the rollback became a bargaining chip.

Democratic Sen. Barbara Mikulski, the spending bill's key Senate negotiator, defended the rollback arguing the legislation also boosts the budgets of regulators in charge of policing Wall Street.

"I don't want the derivative market to go wild. This is not the Wild West. We made sure that we put money in the federal checkbook," she said on the Senate floor Friday. "Agencies that are in charge with enforcing the rules to protect against abuse are funded."

Democrats agreed to kill the swaps regulation in return for Republicans agreeing to increase the budgets of two financial regulators, the Commodity Futures Trading Commission and the Securities and Exchange Commission, and taking other changes to the Wall Street reform bill off the table, according to multiple government and industry sources.

A Democratic Senate aide said the financial agencies' funding levels were negotiated separately and had "nothing to do" with negotiating the rollback legislation.

White House press secretary Josh Earnest said Friday it was hard "to account for all of the conversations that took place" while the White House and lawmakers were negotiating the spending bill.

But a financial services lobbyist noted that nobody on either side of the aisle wants credit for helping banks.

"Everybody had enough deniability that they were OK with it," the lobbyist said. "There was no press release going out about it."

@highlight

Some Democrats are complaining about a Wall Street regulatory rollback included in the recently passed spending measure

@highlight

But many supported the very same provision in previous legislation

@highlight

Lawmakers on both sides of the aisle are hoping to escape responsibility for writing that part of the law