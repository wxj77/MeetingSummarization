TOKYO, Japan (CNN)  -- Japanese authorities on Friday released an American Marine accused of raping a teenager in Okinawa after the girl dropped the allegations, the U.S. military said.

Japanese protest near the U.S. Embassy in Tokyo earlier this month over a Marine accused of rape in Okinawa.

The Marine Corps said it is holding Staff Sgt. Tyrone Luther Hadnott, 38, in a Marine facility as it investigates whether he violated codes of military justice.

The girl's accusation, which stirred memories of a brutal rape more than a decade ago, triggered outrage across Japan. Prime Minister Yasuo Fukuda deplored it as "unforgivable."

Hadnott was taken into Japanese custody February 11.

The allegation also led to tight restrictions for American troops and their families at the U.S. base on Okinawa.  Watch how the military was caught off guard Â»

All troops stationed on the southern Japanese island have been confined to the base or their off-base residences for a "period of reflection" since February 20, except for work, worship, school or medical appointments.

"This period of reflection will allow commanders and all service members an opportunity to further review procedures and orders that govern the discipline and conduct of all U.S. service members serving in Okinawa," said a news release from the Marine Corps' Camp Butler on the island.

The restrictions remained in place Friday despite Hadnott's release from Japanese custody, the U.S. military said. An evaluation of them has been scheduled for Monday.

The U.S. military in Japan also said it formed a sexual assault prevention task force after the allegation arose.

More than 40,000 U.S. troops are stationed in Japan, most of them on Okinawa, which accounts for less than 1 percent of Japan's total area.

The troops were placed there under a security alliance after Japan was defeated in World War II and was forced to renounce its right to a military.

The U.S. military presence has at times bred resentment among Okinawans, who have long complained about crime, noise and accidents.

Anti-American sentiments boiled over in 1995 after three American servicemen kidnapped and gang-raped a 12-year-old Okinawan schoolgirl.

Two years ago, a U.S. civilian military employee was sentenced to nine years in prison for raping two women. E-mail to a friend

@highlight

Japanese authorities release U.S. Marine after teenage girl drops complaint

@highlight

Staff Sgt. Tyrone Luther Hadnott in Marine custody pending military investigation

@highlight

U.S. troops confined to Okinawa base for "period of reflection" since February 20

@highlight

U.S. military presence long a source of tension on southern Japan island