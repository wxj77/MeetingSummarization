(CNN) -- There was French fever as Christophe Riblon won stage 18 of the Tour de France -- but it was Britain's Chris Froome who extended his overall lead despite being handed a penalty.

The famous Alpe d'Huez route asked more of the riders this year as, for the first time, the pack made a first ascent before descending back to the valley floor and then climbing the mountain for a second time.

After an attacking ride, Froome fell foul of the energy-sapping conditions inside the last five kilometers of the 172-km route.

The Briton sent his Sky team-mate Richie Porte back to the support car for food -- even though it is against the rules to 'feed' inside the last 20 kilometers of a stage.

Race officials handed Froome a 20-second penalty but the yellow jersey holder still stretched his lead over rival Alberto Contador to five minutes, 11 seconds.

"Richie was feeling a lot better than I was and I was running out of sugars towards the end," explained Froome, who is aiming to win his first Tour de France after helping Sir Bradley Wiggins to the crown last year.

"I had to ask him to go back and grab me some sugars from the car.

"I was just getting in as best I could in those last few kilometers. I'm not sure if it made any difference at that point in the race.

"It's a horrible feeling and I'm just happy to have come out with more of an advantage than I had at the start of the stage.

"This was definitely one of the harder days that we've seen in this Tour but I think that's to be expected: two times up Alpe d'Huez and this late in the race, it's definitely a hard day."

With three stages left to go before the Tour reaches its climax on the streets of the French capital, Contador must also find an extra burst of energy.

The Spaniard was unable to respond when Froome pushed on twice during the second ascent.

"I wasn't on a good day," said Contador. "It was hot and very humid. But despite my setback I've limited my losses. I hope to have better legs in the next few days."

The fans, many in colorful fancy-dress costumes, had squeezed along the stunning route despite the odd rain shower or two.

French kisses

They were rewarded with the first French stage winner on this year's Tour as Riblon picked off tiring American Tejay Van Garderen inside the final two kilometers.

"When I was about eight years old, I saw on the TV a victory of a cyclist at Alpe d'Huez and I hoped that one day maybe I could do it too," Riblon, who blew kisses to the crowd, said.

"When I saw at the start of the climb that Van Garderen attacked me I knew I couldn't follow him.

"Three kilometers from the finish, I saw him and he didn't look good so I started to believe in my good stars. And I sprinted and the public supported me and I'm in the sky!"

The riders must endure another test of stamina on stage 19 as they face a 204-km rollercoaster ride through the mountains.

@highlight

Home crowd celebrate as the wait is over for first French winner on 2013 Tour de France

@highlight

Christophe Riblon makes a late strike to win grueling 18th stage

@highlight

Britain's Chris Froome extends his overall lead over Spain's Alberto Contador

@highlight

Froome penalised for breaking rules banning feeding in the last 20km of the stage