(CNN) -- Not long ago, it was virtually guaranteed that the "Big Four" of men's tennis would grace the semifinals of every major tournament.

But times are changing -- while fans had hoped Roger Federer might make it as far as the last eight in China this week for a tantalizing clash with Novak Djokovic, it was not to be.

The former world No. 1 said he had been energized by the response to his first appearance since September's U.S. Open after Wednesday's win over Andreas Seppi, but he was stopped in his tracks 24 hours later.

Federer, now ranked seventh and battling for a place in the season-ending ATP World Tour Finals for the 12th successive year, was beaten 6-4 6-7 (5-7) 6-3 by former world No. 7 Gael Monfils at the Shanghai Masters.

Blog: When should Federer retire?

As a semifinalist last year, the 32-year-old will lose points in the race for the eight places in London.

The 17-time grand slam champion went straight back out on court to play alongside China's Zhang Ze in the doubles -- a rare foray in the format for the Swiss -- and suffered another defeat as they went down 6-1 1-6 10-8 against Ivan Dodig and Marcelo Melo.

Defending champion Djokovic, meanwhile, booked his place in the quarterfinals with a 6-3 6-3 win over Italy's Fabio Fognini.

He will face a Frenchman who beat Federer for just the second time in eight career meetings, but has a 0-8 record against Djokovic.

Monfils, now ranked 42nd after resuming his career this year following an injury-plagued 2012 season, had led 5-3 in the second set and also 5-3 in the tie-break but admitted nerves got to him.

"I knew that I choked on this forehand at 5-4," the 27-year-old said. "Then I changed my ideas because I was maybe nervous, too. Even though I was tired, I tried to play more aggressively sometimes, going more for my shots and it worked.

"It's a good win for me. I feel a bit sorry for him because I know he's running for London. But it's tennis. He's going to have more opportunity those weeks coming up."

World No. 1 Rafael Nadal, who is assured a place at the London finals, moved into the Shanghai quarterfinals with a 6-1 7-6 (7-5) victory over Carlos Berlocq on Thursday.

The Spaniard will next face Federer's eighth-ranked compatriot Stanislas Wawrinka, who won 7-6 (7-2) 6-4 against another finals hopeful, Canada's No. 11 Milos Raonic.

With the other member of the game's leading quartet, Wimbledon champion Andy Murray, already ruled out of his home showpiece event next month due to injury, it would be a massive blow for organizers if Federer is also absent.

Federer has two tournaments left in which to qualify -- his home Swiss Indoors and the Paris Masters. He was the losing finalist in Basel last year, but skipped the French event so can potentially gain points there.

"He's still strong," Monfils said. "It's just a matter of confidence, I think. I have no doubt that he will get back to the way people expect him to be."

Spanish third seed David Ferrer also crashed out in Shanghai, losing 6-4 6-3 to Florian Mayer -- becoming the German's first top-10 scalp this year.

Fourth-ranked Ferrer, who has already qualified for next month's season finale, dropped to a 50-18 record this year.

Mayer, meanwhile, will next face French seventh seed Jo-Wilfried Tsonga, who kept alive his hopes of qualifying for London by beating Japan's Kei Nishikori 7-6 (7-5) 6-0.

Sixth seed Juan Martin del Potro walked into the quarterfinals when German veteran Tommy Haas pulled out of their clash with a back problem.

The Argentine, fifth in the points standings, will next face Spain's Nicolas Almagro -- who dented Tomas Berdych's hopes of clinching a London berth by beating the sixth-ranked Czech 6-7 (6-8) 6-3 7-6 (7-4) in two hours and 37 minutes.

@highlight

Roger Federer loses to Gael Monfils in third round of the Shanghai Masters

@highlight

Former world No. 1 also beaten in the doubles later Thursday

@highlight

The 17-time grand slam winner battling to qualify for ATP World Tour Finals

@highlight

He missed out on a Shanghai quarterfinal against world No. 2 Novak Djokovic