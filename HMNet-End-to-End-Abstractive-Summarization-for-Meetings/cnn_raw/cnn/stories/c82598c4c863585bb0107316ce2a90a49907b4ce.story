(CNN) -- Brazil, which recently overtook the UK as the world's sixth-largest economy, has been enjoying a lot of positive press.

It is sealing its reputation as a dynamic place, a fun place, a diverse place -- but, with this last point in particular, the country still suffers black eyes.

A recent court ruling ordered Sony Music Brazil to pay a hefty fine for a song with racist lyrics.

The song, about a black woman's hair, led civil rights organizations to sue Sony not just because it is offensive but because such pejoratives remain common in Brazil.

An appeals court in Rio de Janeiro ruled December 15 that Sony must pay nearly 1.3 million reais (U.S. $723,000) for publishing "Veja os Cabelos Dela," or "Look at Her Hair," by the singer and comedian Tiririca.

Tiririca, whose real name is Francisco Everardo Oliveira Silva, is now a federal congressman and was not named in the suit.

Even the judicial process for this case was slow: The song came out more than 15 years ago, and the initial lawsuit was filed in 1997.

"In the bigger picture, I think the music companies are going to be more careful when they choose music to sell," said Humberto Adami, the lawyer for the rights organizations.

The recent ruling was simply the completion of the monetary part of the case; the heart of it was decided years ago, and Sony has abided by it, the company said.

"Since 1997, spontaneously, Sony Music Brazil removed the track from this product and reissued it in the market," the company said.

Adami, who recused himself from the case for a period while he served as ombudsman for Brazil's agency for racial equality, said the ruling comes in an environment where racism lingers.

Tiririca's song, which he reportedly wrote to his wife, includes lyrics comparing a woman's hair to "scouring pots and pans" and about her "stench."

In fact, Adami's clients lost in the first trial because the judge ruled that such comments and "jokes" were commonplace in Brazil and that Sony shouldn't be singled out to pay for it.

But the rights organization persisted, given the outrage over the song.

Some black children did not go to school because others were bullying them by singing the song, Adami said.

"Bullying combined with racism is a very difficult thing, a very sad and awful thing," he said.

An appeals court later ruled against Sony by a vote of 2-1, with the dissenting judge using the same argument as the judge in the first trial.

The case was appealed to Brazil's highest court, but it declined to take the case, so the appeal court ruling stands.

But the case was far from over and dragged on for years as both sides went back to the lower courts to fight about how big the fine should be.

Sony had paid a smaller fine, but an appeals court last month upheld a ruling that the actual amount to be paid was much larger, closer to the 1.3 million reais.

"This case is a real step forward for Brazil, and Brazil is changing," said France Winddance Twine, a sociology professor at the University of California at Santa Barbara.

Brazilians see themselves as a tolerant society -- interracial marriage was never illegal, other forms of state-sanctioned racism were never implemented, and there were no groups like the Ku Klux Klan -- but the truth is not as tidy.

The particular form of racism found in Tiririca's song has been tolerated for a long time in songs and jokes, said Twine, who has written a book about race in Brazil.

"For the first time, the court is saying, yes, this is common, but it is no longer acceptable," she said. "They are acknowledging that this is harmful to people."

@highlight

A judge recently upheld a fine against Sony Music for a racist song

@highlight

Brazilians see themselves as tolerant, but racism persists

@highlight

Sony Music says it removed the offending song right away

@highlight

The case is a step forward for Brazil, an expert says