(CNN) -- U.S. Secretary of State John Kerry said Saturday that he and Afghan President Hamid Karzai resolved "the major issues" of an agreement to keep some U.S. military forces in Aghanistan after 2014. But a potential deal-breaker, legal immunity for U.S. troops, was referred to a council of elders.

The immunity issue caused the abrupt pullout of U.S. troops from Iraq at the end of 2011.

ISAF member killed in Afghanistan

Without an agreement, U.S. troops would leave Afghanistan with all NATO forces at the end of 2014. The NATO mission now has about 100,000 troops in Afghanistan, about half from the United States. American and Afghan diplomats have worked for a year on a new agreement which would allow roughly 10,000 American troops to remain.

Karzai said he did not have the authority to negotiate immunity for foreign troops.

"We will leave this to the representatives of Afghanistan who will come to the Loya Jirga, and then take it to the Afghan Parliament, and the Afghan people can decide on this," he said through an interpreter at a joint press conference in Kabul.

After Karzai recited a list of complaints about American operations in the country, Kerry struck a positive tone.

"We have resolved in these last 24 hours the major issues the president went through," he said, adding the United States would "respect completely" the need for the agreement to be approved by the Loya Jirga council of elders next month and then the Afghan Parliament.

Karzai complained that the United States' security guarantees have fallen short of protecting his country from attacks short of invasion -- a reference to possible threats from Pakistan. But he sounded satisfied with assurances that American troops would limit their operations inside his country.

"The U.S. has agreed to stop all unilateral operations in Afghanistan," Karzai said. He added later, "And under no circumstances foreign forces go and search the homes of Afghans."

CNN's Yousuf Basil contributed to this report.

@highlight

Agreement would keep some U.S. forces in Afghanistan after 2014 NATO pullout

@highlight

Immunity for American troops killed similar negotiations with Iraq

@highlight

Kerry: U.S. respects Afghan process of submitting deal to Loya Jirga council and Parliament

@highlight

Karzai says he has U.S. promise to stop unilateral military operations and searches of homes