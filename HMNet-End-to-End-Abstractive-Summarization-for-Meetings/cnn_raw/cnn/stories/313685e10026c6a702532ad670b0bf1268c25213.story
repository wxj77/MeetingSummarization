(CNN) -- World No. 1 Rafael Nadal recovered from a second-set whitewash to reach the quarterfinals of the Qatar Open, while his arch-rival Roger Federer also battled into the last eight on Wednesday.

Nadal, who lost in the final of the season-opening event last year, needed a tie-break in the opening set against 89th-ranked Slovakian Lukas Lacko and won just 11 points in the second before sealing a 7-6 (7-3) 0-6 6-3 victory.

It was only the 10th time in 575 career matches that the Spaniard suffered a "bagel" but he fought back to win in two hours and 19 minutes.

The 24-year-old, who has been struggling with illness since beating Federer in an exhibition event in Abu Dhabi last weekend, will next face Latvian fifth seed Ernests Gulbis.

Was Nadal's U.S. Open win the sporting highlight of 2010?

"It was a very difficult match, but I resisted. I just made up my mind to do my best in the final set. I came back but it was very tiring for me," Nadal told reporters.

Second seed Federer also had an early-season workout ahead of 2011's first grand slam in Australia later this month as he earlier beat fellow Swiss player Marco Chiudinelli 7-6 (7-5) 7-5.

Two-time Qatar champion Federer set up a clash with Serbian sixth seed Viktor Troicki as he came back from 5-4 in the tie-break and 3-1 in the second set to win in one hour and 49 minutes.

"It was really difficult today, under the circumstances," Federer told the ATP Tour website. "Playing such a good friend is so rare for me. I'm happy the match is in the past and I can look forward."

Roddick through to Brisbane quarterfinals

Third seed Jo Wilfried Tsonga continued his comeback from a knee injury as he also progressed into the quarterfinals with a 6-2 6-4 win over Ukrainian wildcard Sergei Bubka.

The Frenchman will next play Spanish seventh seed Guillermo Garcia-Lopez, who beat the Ukraine's Illya Marchenko 6-1 6-4.

Big-serving Croatian Ivo Karlovic won an epic match against German eighth seed Philipp Kohlschreiber, triumphing 7-6 (7-5) 6-7 (2-7) 7-6 (7-4) to set up a quarterfinal with Russia's defending champion Nikolay Davydenko.

The fourth-seeded Russian won through with a 6-4 7-5 win over Finland's Jarkko Nieminen in the day's final match.

In India, top seed Tomas Berdych reached the quarterfinals of the Chennai Open with a 6-2 6-4 win over Croatia's world No. 88 Ivan Dodig on Wednesday.

The 2010 Wimbledon runner-up will next face Slovenia's Blaz Kavcic, ranked 112th.

French fourth seed Richard Gasquet lost 1-6 7-6 (7-5) 7-6 (7-4) to German Bjorn Phau, who will take on Belgian seventh seed Xavier Malisse.

@highlight

Rafael Nadal and Roger Federer through to quarterfinals of Qatar Open

@highlight

No. 1 Nadal taken to three sets by unheralded Slovakian Lukas Lacko

@highlight

Federer also survives scare to beat his close friend Marco Chiudinelli

@highlight

Defending champion Nikolay Davydenko also seeking to reach the last eight