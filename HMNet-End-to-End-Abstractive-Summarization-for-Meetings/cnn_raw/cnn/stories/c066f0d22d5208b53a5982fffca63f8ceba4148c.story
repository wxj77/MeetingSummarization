KABUL, Afghanistan (CNN)  -- Hundreds of militants attacked American and Afghan troops in eastern Afghanistan on Saturday, opening fire on an outpost from multiple locations with rockets, mortars and heavy-caliber machine guns, according to an initial U.S. military report on the battle.

U.S. troops walk past a group of armored vehicles on Saturday at a military base in Afghanistan.

At least eight American troops and two members of the Afghan National Security Force died -- the largest number of Americans killed by hostile action in a single day in more than a year, according to CNN records.

At least 13 Afghan police officers were captured in the attack, according to Haji Abdul Halim, the deputy governor of Nuristan province, where the battle took place.

The fighting lasted about 12 hours, with the militants firing down on the joint U.S.-Afghan outpost from ridgelines above the base, a senior U.S. military official with direct knowledge of the first reports told CNN. The official said the report was preliminary and subject to change as more information came in.

The official said portions of the outpost burst into flame and burned down, but was not able to say if the blaze caused injuries or deaths.  Watch how attack involved hundreds of militants Â»

The militants also fired from a local mosque, the NATO-led International Security Assistance Force said.

The Afghan Ministry of Defense said hundreds of militant fighters surrounded two outposts in the attack.

The terrain and the weather worked against U.S. troops, the U.S. military source said. The attackers' firing positions in the mountains made it tough for U.S. troops to fight back, and bad weather made it hard for troops to fire back effectively, the source said.

Coalition forces repelled the attack, inflicting "heavy enemy casualties," and calling in airstrikes, the alliance said.

The military source said air support arrived within 30 minutes, and that the attackers did not succeed in getting inside the outpost.

The official asked not to be identified because the incident is under investigation and the Pentagon is trying to ensure families of the deceased are informed before the military says more.

"My heart goes out to the families of those we have lost and to their fellow soldiers who remained to finish this fight," said Col. Randy George, commander of Task Force Mountain Warrior. "This was a complex attack in a difficult area. Both the U.S. and Afghan soldiers fought bravely together; I am extremely proud of their professionalism and bravery."

ISAF withheld the identities of the deceased until family members were notified.

The U.S. does not have any indication that the death toll will rise, a U.S. military representative in Afghanistan told CNN.

Before Saturday's incident, the U.S. had announced plans to leave the post that came under attack.

Gen. Stanley McChrystal, the top U.S. and NATO commander in Afghanistan, has said he wants to focus more on protecting Afghan civilians rather than holding remote outposts like the one that was attacked Saturday.

The last time American troops suffered so many casualties in a single day was July 13, 2008, when Afghan militants attempted to overrun a base in the village of Wanat, also in eastern Afghanistan.

At least nine Americans died that day, and the base was abandoned days later.

Militants "attempted to break into that base," said Mark Laity, a NATO spokesman, a day after the attack last summer. They did make some penetration, he said, "but overall they were repelled and they took very heavy casualties themselves."

Two days later, the base was "disestablished," ISAF said.

The Wanat attack was the deadliest attack on U.S. troops in three years, and prompted a Pentagon investigation.

The U.S. Army unit that came under attack didn't get enough intelligence that 200 insurgents were in the area and poised to attack, two officials told CNN in the wake of the battle. However, the failure of intelligence is only one angle the Pentagon investigated. The report has not yet been released.

The U.S. military in Afghanistan declined to comment on comparisons between the Wanat attack and the one on Saturday.

CNN Pentagon correspondent Barbara Starr and CNN's Atia Abawi and journalist Matiullah Mati in Kabul, Afghanistan, contributed to this report.

@highlight

NEW: Battle lasted 12 hours as hundreds of militants fired on outpost, official says

@highlight

Eight U.S. troops, two members of Afghan National Security Force killed in fighting

@highlight

Coalition forces say they called in airstrikes, repelled attack from militants

@highlight

Incident marks deadliest day for U.S. troops in Afghanistan since 2008