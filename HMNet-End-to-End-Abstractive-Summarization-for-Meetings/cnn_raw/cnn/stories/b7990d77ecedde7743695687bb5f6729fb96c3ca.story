(CNN) -- World No. 2 Rafael Nadal battled from behind to win another epic encounter with his great rival Roger Federer on Thursday and earn a place in the Australian Open final.

The Spaniard triumphed 6-7 (5-7) 6-2 7-6 (7-5) 6-4 in three hours and 42 minutes as he set up a clash with either defending champion Novak Djokovic or British fourth seed Andy Murray, who meet in Friday's second semifinal.

Nadal, seeking his 11th grand slam title, extended his winning record over Swiss third seed Federer to 18-9 -- and 8-2 in major tournaments.

Federer, who has a record 16 grand slam titles to his name, saved a match point but was unable to repeat the form that had seen the 30-year-old not drop a set in his previous five matches in Melbourne.

It capped a remarkable turnaround in fortunes for Nadal, who feared that he might not be fit to start the tournament.

"Sunday afternoon, 24 hours to play my first match, I was in my room crying because I believed I didn't have the chance to play in Melbourne," he told reporters.

"Two weeks later I am here in the finals, so it is a dream for me because I had very bad expectations 24 hours before the first match, and now two weeks later I am playing well. I am in the final.

"It's a fantastic victory for me. I'm very, very happy playing against the greatest in history in semifinals, in a big match on Rod Laver Arena. It's one of the victories that's going to stay in my mind forever."

Federer has not beaten Nadal at a grand slam tournament since Wimbledon in 2007 but the Swiss took the opening set on a tiebreak.

Nadal, who lost six finals to Djokovic last year and his No. 1 ranking, responded with a determination that he seems to reserve for matches against his friend and longtime foe.

"We have had good matches over the years," Federer said. "I enjoy playing him. The crowd really gets into it, which is nice. We have a lot of respect for each other, which is good, too, I think.

"We also play well against each other. I always think he plays a bit better against me than against other players, but that's good for him."

Even an extended break for Australia Day fireworks in the second set could not halt the 25-year-old Nadal's momentum, as he won 11 points in a row.

"It's not helpful, that's for sure," Federer said. "I probably don't want to say I would have lost the set anyway, but I was down in the score.

"But they told us before, so it wasn't a surprise for us."

@highlight

Rafael Nadal will play world No. 1 Novak Djokovic or Andy Murray in final

@highlight

Spanish second seed beats Roger Federer in four sets in Thursday's semifinal

@highlight

The 2009 champion extends his career record over great rival to 18-9

@highlight

Defending champion Djokovic plays two-time runner-up Murray on Friday