London (CNN) -- Britain's first female prime minister, Margaret Thatcher, has been honored in a ceremonial funeral service at St. Paul's Cathedral in London.

The bells of the landmark domed cathedral rang half-muffled as pallbearers carried Thatcher's coffin to a hearse, ahead of a private cremation and burial.

Queen Elizabeth II and her husband Prince Philip were among the more than 2,000 mourners who attended the service. At least 170 countries were represented among them.

Mourners included Canadian Prime Minister Stephen Harper, former U.S. House Speaker Newt Gingrich and F.W. de Klerk, the last apartheid-era president of South Africa.

Former U.S. Vice-President Dick Cheney and former U.S. Secretary of State Henry Kissinger attended but Nancy Reagan -- the widow of Thatcher's ally and former U.S. President Ronald Reagan -- was unable to attend and sent a representative in her place.

Live blog: Funeral of Margaret Thatcher

Thatcher died of a stroke on April 8, aged 87. She was accorded a "ceremonial" style funeral with full military honors, similar to those of Diana, Princess of Wales and the Queen Mother.

The funeral was organized in line with the wishes of Thatcher herself and those of her twin children, Mark and Carol.

Serving UK Prime Minister David Cameron and Thatcher's granddaughter Amanda both gave readings, while the Bishop of London, the Right Rev. Richard Chartres gave the address.

The bishop noted that the service was a funeral rather than memorial. "At such a time, the parson should not aspire to the judgments which are proper to the politician; instead, this is a place for ordinary human compassion of the kind that is reconciling," he said.

Chartres paid tribute to Thatcher's "courtesy and personal kindness which she showed to those who worked for her, as well as her capacity to reach out to the young and often also to those who were not, in the world's eyes, 'important.'"

"Perseverance in struggle and the courage to be were characteristic of Margaret Thatcher, " the bishop said. "In a setting like this, in the presence of the leaders of the nation, it is easy to forget the immense hurdles she had to climb."

As a mark of respect, the chimes of Big Ben, as the bell and clock tower by the Palace of Westminster are commonly known, were silenced for the duration of the proceedings. The flag at 10 Downing Street flew at half staff.

Rewriting history: How UK might have been without Thatcher

A horse-drawn carriage earlier carried Thatcher's coffin through the heart of the British capital to St. Paul's on a procession route lined with British Army, Royal Navy and Royal Air Force personnel.

Thatcher's coffin had lain overnight at a chapel at the Palace of Westminster and was taken by hearse to the Church of St. Clement Danes -- the Royal Air Force Chapel -- on the Strand, before being transferred to the gun carriage.

As it traveled through the streets, both cheers and boos were heard from bystanders, reflecting the divisive legacy of the politician known as the "Iron Lady."

Protest threat

The threat of demonstrations -- on top of fears that dissident Irish Republicans may try to act -- heightened security concerns around the funeral and more than 4,000 Metropolitan Police officers were placed on duty for the event.

Roads near St. Paul's Cathedral closed and buses were diverted from early Wednesday as part of the security operation.

Many Britons blame Thatcher for creating soaring unemployment but supporters believe the tough reforms she pushed through transformed the British economy.

Thatcher: Revered and reviled, in death as in life

By 8:30am local time, supporters had crowded by the railings of the cathedral, some with folding chairs, and police stood on every few yards down the road to the cathedral.

At Ludgate Circus, a crowd of about 50 protesters waved Socialist Worker placards, a sign reading "Anarchists Against Thatcher" and rainbow-hued "Peace" flags. Another held a sign demanding 'Where was her respect for Goldthorpe and the miners?' referring to Thatcher's campaign against the power of coal-mining unions.

Protester Hilary Jones said Thatcher had been strident in her beliefs "and her beliefs were so at odds to a large chunk of the population." "There was nothing for many of us to feel proud of during her time," she said.

But Conservative Party activist Lionel Voke said he credited Thatcher with the success of his business.

'We're here out of respect - to us, she was wonderful. I accept that not everyone sees it the same way, but it's the same if Tony Blair died -- I wouldn't necessarily come, but I'd expect him to be treated with respect, and I'd want him to rest in peace."

Ian Twinn said he had traveled from New York to mark the life-changing impact Thatcher had on him.

"I was a boy in the 1980s. Rightly or wrongly she changed the landscape of the UK forever, and she made me feel I could do anything," he said.

Thatcher, who led the Conservative Party from 1975 until she was forced to resign in 1990, remained involved in British politics for the next decade or so. She was named Baroness Thatcher of Kesteven after leaving office and served in the House of Lords.

She retired from public life after a stroke in 2002 and suffered several smaller strokes after that.

CNN's Laura Smith-Spark and Bryony Jones contributed to this report.

@highlight

Margaret Thatcher received a ceremonial funeral with full military honors

@highlight

Queen Elizabeth II and Prime Minister David Cameron were among the mourners

@highlight

Former U.S. statesmen Dick Cheney and Henry Kissinger also attended

@highlight

Thatcher is being cremated and buried in a private ceremony