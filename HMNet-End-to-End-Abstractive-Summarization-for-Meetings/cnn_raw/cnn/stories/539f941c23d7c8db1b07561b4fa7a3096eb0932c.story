(CNN)A Montana pipeline burst sent as much as 50,400 gallons of oil gushing into the Yellowstone River, prompting the governor to declare a state of emergency.

Residents in nearby cities were told not to drink the tap water, which some said smelled like diesel.

The massive oil spill happened when the 12-inch pipeline, which crosses the Yellowstone River, ruptured Saturday about 5 miles upstream from Glendive, Montana's Department of Environmental Quality said. The Bridger Pipeline company shut down the pipeline.

Glendive City Council member Gerald Reichert was among the residents who noticed a disturbing odor in the drinking water.

"Suddenly at our house there was a definite smell. It was a diesel smell," Reichert told the Grand Forks Herald.

Montana Gov. Steve Bullock announced a state of emergency for  Dawson and Richland counties.

And while officials wait for results from water sample testing, they're advising residents to use bottled water for drinking and cooking.

A host of agencies have responded to the oil spill, including the Environmental Protection Agency and the Department of Health and Human Services.

Adding to the problems, the weather: the Yellowstone River is partially frozen, making it difficult to clean up the mess.

This isn't the first major oil spill into the Yellowstone River -- the longest undammed river in the United States.

In 2011, up to 42,000 gallons poured out of a ruptured Exxon Mobil pipeline.

CNN's Dave Alsup contributed to this report.

@highlight

An oil pipeline that crosses the Yellowstone River burst near Glendive, Montana

@highlight

The Yellowstone River is the longest undammed river in the United States