(CNN) -- Barcelona and Real Madrid have roared back to form ahead of next week's Champions League challenges, with the Spanish giants recording comfortable victories in La Liga on Saturday.

Barca's title defense has been uncharactistically unconvincing so far, with last Tuesday's 2-2 draw with Valencia their second dropped points in four outings.

But Pep Guardiola's team responded by crushing Atletico Madrid 5-0 on the day the club confirmed a historic five-year shirt sponsorship with a Qatari group and also banned smoking at the Camp Nou stadium.

The Catalan club's financial problems have led members to accept 171 million euros ($230 million) from Qatar Sports Investment, with 697 out of 809 delegates voting to end a longstanding tradition of no commercial shirt endorsements.

Having reported a loss of 9.3 million euros ($12 million) in 2010-11, the board has projected a 20.1 million euros ($27 million) profit for this season.

Guardiola started with key defenders Carles Puyol and Gerard Pique on the bench against Atletico, ahead of Wednesday's Champions League trip to BATE Borisov of Belarus.

The visitors' five-goal new striker Falcao was unable to take advantage -- but at the other end Argentine scoring machine Lionel Messi took his league tally to eight this season with a superb hat-trick.

Tiago Mendes crashed an early shot off the Barca crossbar, but David Villa settled home nerves in the ninth minute and it was 2-0 six minutes later when Joao Miranda unluckily ricocheted a blocked shot from Messi into his own net.

With rain pouring down, Messi notched his first of the night in typical style as he jinked into the box from the right flank and curled home at the near post in the 26th minute for his 190th goal in 278 games for Barca.

Atletico held out until the final 12 minutes when Messi provided two more moments of solo artistry as Barca moved up to second in the table -- a point behind Real Betis, who travel to Getafe on Monday.

The two-time world player of the year matched the efforts of Real Madrid rival Cristiano Ronaldo, who also netted a treble in the earlier 6-2 thrashing of Rayo Vallecano.

Real's title challenge has also faltered, first with a 1-0 defeat by Levante and then the midweek 0-0 draw with Racing Santander, and Jose Mourinho's team suffered a horror start at home when Michu scored after just 14 seconds.

Ronaldo leveled seven minutes before halftime after being set free on the counterattack by Kaka, and Gonzalo Higuain put Real ahead in injury-time with a simple finish after Sergio Ramos headed Xabi Alonso's freekick across the goal.

Ronaldo made it 3-1 from the penalty spot when Kaka was fouled five minutes after the break, but Real were then reduced to 10 men when winger Angel Di Maria was sent off after being booked a second time for handball.

Michu capitalized in the 54th minute with his second from a corner, stabbing a shot across the line despite keeper Iker Casillas' best efforts to drag it back out.

Teenage defender Raphael Varane made it 4-2 in the 67th minute, with the 18-year-old Frenchman somehow volleying in a corner with the back of his foot.

Karim Benzema drove in Real's fifth on 73 after a square pass from fellow substitute Mesut Ozil, whose first-half introduction in place of Lassana Diarra swung the match in Madrid's favor.

Ronaldo completed his second hat-trick this season with six minutes to play, chipping in a penalty after being fouled.

Real's third win in five outings lifted Mourinho's men into fourth place ahead of Tuesday's Champions League visit by Dutch side Ajax.

In Saturday's other games, third-placed Sevilla joined Barcelona on 11 points with a 1-0 win at home to Valencia as striker Fredi Kanoute scored the only goal in the 18th minute.

Valencia dropped to fifth behind Real Madrid on goal difference.

Athletic Bilbao moved out of the bottom three with a 1-1 draw at home to Villarreal, with Brazilian striker Nilmar netting a second-half equalizer for the visitors.

@highlight

Barcelona move up to second in Spain with 5-0 win at home to Atletico Madrid

@highlight

Lionel Messi scores a hat-trick to take his tally to eight league goals this season

@highlight

Cristiano Ronaldo also nets treble as 10-man Real Madrid triumph 6-2

@highlight

Sevilla claim third place above Real with 1-0 victory over Valencia