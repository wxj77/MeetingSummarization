Kearney, Missouri (CNN) -- A controversial gun measure won't become law in Missouri after a push to override the governor's veto fell one vote short of approval in the state's Senate on Wednesday.

The measure, HB 436, would have essentially nullified federal gun laws in the state.

Senators voted 22-12 in favor of overriding Gov. Jay Nixon's veto, but the vote fell just short of the two thirds majority required to pass.

Earlier Wednesday, the state's House of Representatives voted 109-49 in favor of overriding the veto.

If it had passed, the law would have technically not only let residents own a machine gun but also arrested federal agents if they tried to take it away.

The bill also would have made it illegal for anyone to publish any information about a gun owner.

The legislation passed earlier this year in Missouri's Republican-led House and Senate but vetoed by Nixon, a Democrat.

Nixon argued that the legislation violated a provision in the U.S. Constitution called the Supremacy Clause. The Supremacy Clause gives preference to federal laws over state laws.

Lawmakers had argued that what they were proposing was not only constitutional but essential to protect the rights of gun owners.

"There are people saying this is the same as seceding from the Union," said gun owner Kevin Jamison. "Missouri did not secede from the Union in 1862, and it does not do so by passing this law."

Colorado recall a proxy in national gun control debate

What the bill said

"This bill doesn't put one new gun on the street," said State Rep. Doug Funderburk, a Republican. "It strictly says that Missouri is going to protect the Second Amendment rights of Missourians."

By superseding federal regulations, House Bill 436 would have made it a criminal offense to enforce background checks or to publish the name and address of a gun owner in the state.

It would also have technically allowed citizens to own a machine gun, which is banned under federal regulations, according to the governor's office. And it would have nullified federal gun laws and allowed citizens to take legal action against officers who try to enforce them.

Gun permits for the blind? Iowa grants them, stirs debate

Opponents worry

Ohio, Minnesota and Texas have pursued similar bills in recent months in reaction to attempts at federal gun control legislation after the December shootings at Sandy Hook Elementary School in Newtown, Connecticut.

Opponents worry such laws could all but end any joint operations between local and federal law enforcement agencies when it comes to taking guns off the streets.

St. Louis Police Chief Sam Dotson has been one of its most vocal opponents.

"(We are) basically saying to criminals, 'OK criminals, it's OK to come to Missouri. We won't prosecute you to the fullest extent of the law,' " he said.

CNN's George Howell reported from Kearney, Missouri; Leslie Bentz from Washington.

@highlight

NEW: Missouri Senate's vote falls one short of the two thirds majority needed

@highlight

Missouri's House voted to override the governor's veto

@highlight

St. Louis police chief is against the bill

@highlight

Author of the bill says it protects Second Amendment