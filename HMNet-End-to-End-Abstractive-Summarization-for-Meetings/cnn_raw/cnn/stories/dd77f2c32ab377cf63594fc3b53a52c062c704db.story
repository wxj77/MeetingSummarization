London (CNN) -- The relationship between rock stars and royalty has not always been a cosy one. Back in 1977, The Sex Pistols stuck a grubby finger up to the silver jubilee with a raucous barge party on The Thames.

In 2012, a day after a flotilla of 1,000 boats took to the same stretch of water, it seems that peace has been made. The diamond jubilee was marked with an entertainment extravaganza on a stage built around the Queen Victoria Memorial outside London's iconic Buckingham Palace.

Smoothing the marriage of music and monarchy was Take That's Gary Barlow, who curated a star-studded line-up designed to represent the best of Queen Elizabeth II's 60-year reign.

Barlow's friend and sometime bandmate Robbie Williams opened the show, performing his boisterous "Let Me Entertain You" with the trumpets and drummers of the Royal Scots Guards. In the crowd, Queen guitarist Brian May nodded approval: he's qualified to do so, having opened 2002's "Party at the Palace" playing the national anthem on the roof.

But the real VIPs were in the royal box, where Prime Minister David Cameron stood with Prince Charles, The Duchess Of Cambridge, Princes William and Harry, Princesses Beatrice and Eugenie and numerous other Windsors. Prince Philip, the queen's husband, was absent, having been admitted to hospital with a bladder infection.

Britain's Prince Philip hospitalized

The evening opener seemed geared more to the tastes of younger royals. Will.I.Am sang "I Gotta Feeling" with octave-hopping pop singer Jessie J, X-Factor alumni JLS produced a medley of hits, while Barlow performed a duet with a painfully out of tune Cheryl Cole.

Before long, the old guard showed the whippersnappers how it's done. Enter Cliff Richard, a man with hits in every decade of Elizabeth's reign and a mega-mix to prove it. A closing "Congratulations" was as kitsch as his powder pink suit, but The Duchess Of Cambridge waved her Union Jack approvingly.

Monday was not all about pop though. Classical pianist Lang Lang thumped out "Rhapsody In Blue," before tenor Alfie Boe segued "O Sole Mio" into "It's Now Or Never," jiving on the spot for the latter in a matter unbecoming of most opera singers.

However, the curveball of the evening was yet to come: enter the brilliant Grace Jones, who took to the stage dressed like a sci-fi villainess, and spun a hula hoop for the duration of her sensual anthem "Slave To The Rhythm." "Happy Birthday, our queen," she concluded, missing the entire point of the occasion. Meanwhile, young crooner Ed Sheeran looked positively pedestrian in comparison, though with his shaggy red hair the people far off in the cheap seats must have wondered why Prince Harry popped up on stage with an acoustic guitar.

At 9 p.m. local time, the crowd stood for the queen. Her majesty's arrival was marked by the live debut of The Commonwealth Band's "Sing," a track written especially for the jubilee by Gary Barlow and Andrew Lloyd Webber. "Hear a thousand voices shouting loud," the syrupy lyrics commanded.

As darkness fell, the procession of stars continued -- Shirley Bassey performed the aptly titled "Diamonds Are Forever," while Kylie Minogue, dressed as a Pearly Queen, and Elton John whipped the crowd into a frenzy with a storming version of "Crocodile Rock."

By the time Stevie Wonder appeared, the stage was beginning to resemble a Who's Who of pop music. The American legend sang "Isn't She Lovely" with lyrics re-worked for the occasion: "Isn't she special, a young 86-years old," he crooned. He also played "Happy Birthday," perhaps having conferred with Jones.

Our attention was then drawn to the roof of the palace, where 80s British band Madness sang "Our House" as a light projection transformed the imposing royal residence into a row of typical British terraced houses. Then it was back to the stage, where former Beatle Paul McCartney concluded the show.

McCartney has provided the finale for so many star-studded galas that the image of him performing "Ob La Di, Ob La Da" as Elton, Shirley Bassey and Cliff Richard clapped along en masse brought on a strange feeling of dÃ©jÃ  vu. But, as ever, his humble, unifying charm made for a warm ending.

Before the majestic fireworks display and the heart-thumping national anthem, Barlow led the Queen, the Duchess Of Cornwall and Prince Charles on stage. "Your Majesty, Mummy," began Prince Charles, as he delivered a touching speech with the right mix of levity and respect.

The audience was treated to three hours of big names and big tunes, but -- acerbic comedians and Grace Jones aside -- the Diamond Jubilee Concert was a safe bet. Cynics might argue that a more accurate view of modern Britain could come from the likes of Plan B, whose "Ill Manors" single sticks the knife into Cameron's Britain, but a gig at Buckingham Palace was never going to be the place for punk sentiment.

@highlight

Three-hour concert outside London's Buckingham Palace for the diamond jubilee

@highlight

Concert opened with Robbie Williams and Royal Scots guard performing "Let Me Entertain You"

@highlight

Paul McCartney concludes the show with star-studded version of "Ob La Di, Ob La Da"