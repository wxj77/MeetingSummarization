Hong Kong (CNN) -- Yahoo and China's Alibaba Group have agreed to a $7.1 billion deal in which the Hangzhou-based internet behemoth buys back half of Yahoo's 40% stake in the company.

The agreement will give a much-welcomed cash injection to Yahoo, which has lost 65% of its value since its 2006 peak and is smarting from the resume-padding scandal of ex-CEO Scott Thompson, the third chief executive to lead the beleaguered web portal in three years.

Yahoo's 40% stake in Alibaba, purchased in 2005 for $1 billion, is widely considered the company's greatest asset. But the relationship has been a fractious one, punctuated with public disagreements over company direction, as well as Yahoo siding with Google in its 2010 fight with Chinese regulators.

Alibaba CEO Jack Ma publicly said in September he might be interested in buying Yahoo. "This transaction opens a new chapter in our relationship with Yahoo," Ma said in a news release Monday.

Alibaba is a leading e-commerce provider in China, the world's largest internet market.

"Today's agreement provides clarity for our shareholders on a substantial component of Yahoo!'s value and reaffirms the significance of our relationship with Alibaba," said Ross Levinsohn, interim CEO of Yahoo, in a release on the deal.

Under the terms of the deal, Yahoo will get $6.3 billion in cash and up to $800 million in newly issued Alibaba preferred stock.

"We look forward to delivering the proceeds of the near-term transaction to our shareholders, and to the further enhancement of value and the additional monetization in the future that this agreement enables," said Timothy R. Morse, chief financial officer of Yahoo.

@highlight

Yahoo and China's Alibaba Group have agreed to a $7.1 billion share buyback deal

@highlight

The China internet behemoth will buy back half of Yahoo's 40% stake in the company

@highlight

Comes after the departure of Yahoo CEO Scott Thompson in a resume padding scandal

@highlight

The relationship between Alibaba and Yahoo has often been fractious