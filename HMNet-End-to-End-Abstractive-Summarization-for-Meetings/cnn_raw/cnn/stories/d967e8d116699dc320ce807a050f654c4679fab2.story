(CNN) -- United Parcel Service will forfeit $40 million in payments it received from illegal online pharmacies and take steps to make sure such businesses no longer use the shipper's services, the U.S. Drug Enforcement Administration announced Friday.

The steps are spelled out in a "non-prosecution agreement" between the shipper and the U.S. attorney's office in San Francisco, the agency said.

It said UPS was aware that, between 2003 and 2010, some online pharmacies were using it to ship controlled substances and other prescription drugs without valid prescriptions.

"UPS has cooperated fully with the investigation and has already taken steps to ensure that illegal Internet pharmacies can no longer use its services to ship drugs," the DEA said in a release.

UPS will pay the $40 million penalty and strengthen its compliance "with respect to Internet pharmacy shippers," Susan Rosenberg, a UPS spokeswoman, said in an e-mailed statement.

"We believe we have an obligation and responsibility to help curb the sale and shipment of drugs sold through illegal Internet pharmacies," she said.

CNN's Devon Sayers and Chelsea J. Carter contributed to this report.

@highlight

The DEA says UPS was aware online pharmacies were using it to ship controlled substances

@highlight

The shipments by illegal online pharmacies occurred between 2003 and 2010, the DEA says

@highlight

UPS says it will pay the $40 million penalty