New York (CNN) -- Three members of two popular Iranian indie bands who were living and working in the United States were shot and killed in Brooklyn early Monday by a fellow rocker who then turned the gun on himself, police said.

The dead included Soroush Farazmand, 27, whose rock band the Yellow Dogs was featured in a 2009 CNN report about Iran's burgeoning underground rock scene. Police found the guitarist dead from a shot to the chest in a second-floor bedroom of the East Williamsburg building where band members lived and practiced.

Farazmand's brother, Arash, 28, a drummer with the band the Free Keys who later joined the Yellow Dogs, was also shot and killed at the same location, as was a third Iranian musician, Ali Eskandarian, 35.

An Iranian street artist was shot in the arm, police said.

The shooter, who took his own life on the rooftop of the building, was identified as Ali Akbar Mohammadi Rafie, 29, police said. A spokesman for the Yellow Dogs told CNN that he had been a member of the Free Keys.

Ali Salehezadeh, who handles publicity for the Yellow Dogs, told CNN that a "petty conflict" resulted in a break of communication between the gunman and the band.

New York Police Commissioner Ray Kelly told reporters that the gunman used a .308-caliber assault rifle, apparently to settle a "dispute ... over money" between the bands. The gunman shot and killed one of the victims through a window before entering the building in the East Williamsburg neighborhood and shooting the others on the second and third floors, Kelly said. Rafie shot himself on the roof after scuffling with at least one of two other people who hid in a bathroom.

In the 2009 CNN story, members of Yellow Dogs described performing in an improvised, clandestine music studio to avoid the wrath of Islamic authorities. The band settled in East Williamsburg after attention generated by the group's contribution to the soundtrack of a film called "No One Knows About Persian Cats," a movie about Iran's underground music scene that won an award at the Cannes Film Festival.

"The law has a problem with rock music so we can't play it," Siavash Karampour, the Yellow Dogs band leader, told CNN in 2009.

Karampour was working at another job at the time of the shooting, Salehezadeh told CNN.

Karampour told CNN that Iranian authorities viewed the band members as "anarchists."

"They're like my brothers," Karampour said of the band members. "They're more close than my brothers."

In the CNN story, Yellow Dog members described their brand of music as rock played with bad equipment and said it touched on subjects ranging from Iranian oppression to American greed.

CNN's Reza Sayah, Nic Robertson and Azadeh Ansari contributed to this report.

@highlight

Members of popular New York-based Iranian rock bands killed in murder-suicide

@highlight

Gunman shoots and kills three, injures another, before turning gun on himself

@highlight

The dead were members of Iranian indie bands the Yellow Dogs and Free Keys

@highlight

Gunman is identified as 29-year-old man who reportedly had been band member