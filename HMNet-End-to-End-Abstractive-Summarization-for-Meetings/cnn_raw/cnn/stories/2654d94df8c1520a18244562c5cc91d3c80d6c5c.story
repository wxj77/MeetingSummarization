PESHAWAR, Pakistan (CNN) -- Twenty well-behaved boys sit on the floor in two rows, quietly eating a humble lunch of flat bread, water and beans.

The "lost boys" of Swat enjoy a humble lunch of flat bread, water and beans.

Their hair is neatly combed and they are dressed in spotless Pakistani shalwar kamiz long shirts and baggy trousers. These boys are orphans, and they are lucky to be alive.

"Sir, it was very dangerous," explained 15-year-old Mohammad Nawaz.

Last Friday, Nawaz and his friends escaped from Pakistan's Swat Valley after their orphanage ended up on the front-line of the government's war with the Taliban.

When hostilities resumed in Swat two weeks ago, Pakistani soldiers from nearby barracks commandeered the roof of the four-story orphanage in Swat's district capital, Mingora, to use it as a lookout. They built sandbag bunkers on the roof, and buried landmines in the orphanage's playground.

Then, Taliban militants laid siege to the building.

Nawaz said "many" insurgents armed with rocket launchers and Kalashnikov assault rifles surrounded the orphanage.  Watch more on the boys' ordeal »

About 50 terrified orphans, accompanied by adult support staff, cowered in a back room on the ground floor. Shaken by the explosions and small-arms fire around their building, the older boys, some aged 16 and 17, tried to console the youngest children, some of whom are as young as seven. They were all crying.

It wasn't until last Friday that the first batch of orphans were able to escape.

"We had to ride on the roof of a bus," said 16-year old Mohammad Yusuf, a soft-spoken teenager with the beginnings of a beard appearing on his chin.

After a creeping, traffic-choked, three-hour drive from Mingora, the boys and their teachers begged for a ride from a passing vegetable truck. Yusuf said the boys rode the rest of the way to Peshawar sitting in the back of a truck on bags of peas, stopping only when the truckers had to remove the cargo to have it washed.  Watch more on the situation in the Swat Valley »

"When the peas were washed and loaded again, we all got wet," said Yusuf, laughing.

Now the boys are relatively safe and receiving some counseling from therapists at a shelter in Peshawar provided by another Pakistani charity organization, the Dost Foundation.

The children have seen more then their share of violence during two years of intermittent fighting around the Swat Valley.

When asked about the worst moment two boys immediately responded "suicide bombers," making explosive gestures with their hands from their chests.

Due to the orphanage's close proximity to a Pakistani army base in Mingora, the boys were often witnesses to the aftermath of Taliban attacks. In one incident a suicide bomber blew out all of the glass windows of the orphanage.

Opinions were split among the boys about the Taliban.

"They want Islam," said Nawaz, referring to the Taliban's demand for the imposition of Islamic sharia law across Pakistan. The proposal resonates with many Pakistanis, who are frustrated with corruption in the country's judicial system.

"The Taliban dropped the price of public transport," Nawaz said, adding, "Plus they used to help sort out traffic jams."  Watch more on the refugee situation »

"We are angry with the Taliban," argued Yusuf, the 16-year-old. "There is no rule in Islam that allows you to behead someone."

Since the arrival of the boys in Pakistan's western city of Peshawar, social workers have been trying to help them relax. They spent the weekend playing cricket in the small yard of their half-way house, watching movies and on Sunday getting a tour of the city. Several boys said they were looking forward to seeing an airport for the first time in their lives.

But orphanage director Muhammad Ali was wracked with worry about their future.

Out of sight of the children, he broke down weeping. "I am the father of these children," Ali said. "This is not an orphanage, this is our home... now finished."

Ali spent the afternoon on Sunday desperately trying to call a final group of 24 boys who were trying to escape from Mingora. They left on foot, because the road out of Mingora was mined and there was a shortage of vehicles for the evacuation of refugees.

Ali said the orphans, accompanied by adult administrators, had split into groups of five, with three older boys equipped with a cell phone and cash leading two younger boys.

By nightfall, the orphans had walked for hours. They spent the night on the floor of a religious school outside Mingora, after authorities re-imposed a curfew in the Swat Valley.

On Monday evening the children arrived exhausted and dirty in Peshawar after traveling more than 24 hours.

One of their adult chaperones estimated they had to travel on foot for more then 20 miles before eventually finding vehicle transport to complete the journey.

Administrators said one of the boys, named Ubaid, somehow became separated from the rest of the group, and ended up staying behind. They say he is back at the orphanage in Mingora, being cared for by the Pakistani soldiers stationed there.

"It was a long, chaotic journey and experience that I will never forget," said Imran Khan, one of the orphanage's wardens.

He said he had spent part of the journey carrying on his back a boy with a spinal problem.

"Swat used to be known as paradise on earth," Khan said. "Now it has become hell on earth."

More than 360,000 people have fled the conflict zone since May 2.

@highlight

Boys flee their Swat Valley orphanage after Taliban attack their home

@highlight

Army had set-up position in their building, mining the playground

@highlight

The boys cowered in a back room, as the fighting raged outside

@highlight

They eventually rode to safety on top of a bus and back of a vegetable truck