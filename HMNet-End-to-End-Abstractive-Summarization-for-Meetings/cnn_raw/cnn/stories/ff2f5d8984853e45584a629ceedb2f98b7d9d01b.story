Dallas (CNN) -- A federal judge has blocked key parts of a Texas law that would require doctors to provide a sonogram to pregnant women before they get an abortion, days before the law was set to take effect.

U.S. District Judge Sam Sparks, in Austin, Texas, found that several portions of the law are "unconstitutionally vague," and that it violates the First Amendment by compelling doctors and patients to engage in government-mandated speech.

As written, the law would require women seeking an abortion in Texas to view a picture of the embryo or fetus and hear a description of its development before having the procedure. It was to take effect on September 1.

The preliminary injunction, issued Tuesday, blocks the state from enforcing any penalties against a doctor who does not place sonogram pictures where a pregnant woman may see them, or does not make the heartbeat audible. It also blocks penalties against the woman.

"Today's ruling is a huge victory for women in Texas and a clear signal to the state legislature that it went too far when it passed this law," said Nancy Northup, president and CEO of the Center for Reproductive Rights. "Politicians have no business telling doctors how to practice medicine or meddling in women's private medical decisions."

The Center filed the lawsuit, which was granted class-actions status.

Texas Gov. and Republican presidential hopeful Rick Perry said the state would appeal the decision.

"Every life lost to abortion is a tragedy and (the) ruling is a great disappointment to all Texans who stand in defense of life," he said in a statement. "This important sonogram legislation ensures that every Texas woman seeking an abortion has all the facts about the life she is carrying, and understands the devastating impact of such a life-changing decision."

The bill stirred some controversy in Texas, but it easily passed through the state House and Senate, both of which are controlled by Republicans.

The law says that at least 24 hours before an abortion is performed, women must undergo a sonogram, a procedure that uses ultrasound to create an image.

The doctor, then, is required to give, "in a manner understandable to a layperson, a verbal explanation of the results of the sonogram images, including a medical description of the dimensions of the embryo or fetus, the presence of cardiac activity, and the presence of external members and internal organs," the law states.

In his order, Sparks agreed with the abortion providers that many clauses in the law were too vague.

He wrote, "The court is inclined to agree with (the) defendants' characterization that (the) "plaintiffs have chosen to throw everything at the wall and hope something sticks."

The court also found that the sonogram law goes beyond existing informed consent laws regarding abortion and constituted a violation of the First Amendment.

The law "compels physicians to advance an ideological agenda with which they may not agree, regardless of any medical necessity, and irrespective of whether the pregnant women wish to listen," Sparks wrote.

@highlight

A judge ruled that doctors cannot be penalized for not showing images to women

@highlight

The law was to go into effect September 1

@highlight

The judge found some of the language unconstitutionally vague

@highlight

He also said that it violated the First Amendment