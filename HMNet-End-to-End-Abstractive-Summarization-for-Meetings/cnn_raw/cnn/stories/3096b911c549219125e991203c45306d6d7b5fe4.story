(CNN) -- Carnival Cruise Lines will fly all passengers on one of its cruises back to Florida after the ship suffered a generator failure while docked in the Caribbean.

The experience on the Carnival Dream became something of a nightmare for some passengers Wednesday when power went off, some toilets stopped working, and no one was allowed to get off the vessel even though the ship was docked at Philipsburg, St. Maarten, in the eastern Caribbean.

Although power had been restored and facilities were functioning again, the ship still couldn't leave port.

Cruise passengers received a letter from the captain, according to a passenger who e-mailed a photo of the correspondence to CNN.

Captain Massimo Marino told passengers they will be booked on flights to Orlando or another destination. Passengers with cars at Port Canaveral will be bused from Orlando to the facility about an hour away.

The letter also offers passengers a three-day refund and a half-price cruise in the future.

The captain said passengers could "enjoy another day in beautiful St. Maarten" or stay onboard for a "full schedule" of activities.

"We sincerely apologize for the disappointment this unexpected change has caused and regret we were unable to provide you with the fun and memorable cruise vacation we had in store for you," he wrote.

In a written statement, Carnival said the ship's emergency diesel generator failed. The ship's next voyage was canceled, the cruise line said.

Carnival spokesman Vance Gulliksen said Thursday that 4,300 guests were aboard the Dream along with about 1,300 crew members. Carnival's website puts the ship's capacity at 3,646 passengers, but that's based on only two people per cabin, and some cabins hold more, Gulliksen explained. There are also three- and four-person cabins aboard.

Kris Anderson, a passenger on the ship and reporter for CNN affiliate WREG, said Thursday that passengers have been told they will be allowed off the ship to enjoy the island while flight arrangements are made.

On Tuesday, Carnival announced it was conducting "a comprehensive review" of all of its 23 ships after a fire last month that crippled one of its ships in the Gulf of Mexico, leaving passengers stranded for days while the vessel was towed back to land. Carnival President and CEO Gerry Cahill said the probe will focus on the prevention, detection and suppression of fires, engine room redundancies, and what additional hotel facilities might be provided and might run off the emergency generators.

His comments, posted on Carnival's website, were made at an annual cruise industry conference in Miami.

'Human waste all over the floor'

After the problems began Wednesday, CNN was contacted by passengers describing the conditions.

Gregg Stark, who is traveling with his wife and two young children, told CNN: "There's human waste all over the floor in some of the bathrooms and they're overflowing -- and in the state rooms. The elevators have not been working. They've been turning them on and off, on and off."

An announcement over the ship's public address system said the crew was trying to fix the problem and was working on the generators, according to Stark. A few hours later, another announcement was made, saying the problem was worse than originally believed.

"We are not allowed off of the boat despite the fact that we have no way to use the restrooms onboard," Jonathan Evans of Reidsville, North Carolina, said in an e-mail early Thursday. "The cruise director is giving passengers very limited information and tons of empty promises. What was supposed to take an hour has turned into 7-plus hours."

But Thursday afternoon, Carnival told CNN that based on conversations with the ship's management team, a look at service logs "and extensive physical monitoring of all public areas, including restrooms, throughout the night, we can confirm that only one public restroom was taken offline for cleaning based on toilet overflow and there was a total of one request for cleaning of a guest cabin bathroom.

"Aside from that there have no reports of issues on board with overflowing toilets or sewage. The toilet system had periodic interruptions yesterday evening and was fully restored at approximately 12:30 a.m. this morning."

Five things we've learned about cruising

The Coast Guard was notified by Carnival that the Dream was experiencing generator issues. Carnival has not requested assistance from the Coast Guard, which has no jurisdiction in the ship's current location, Coast Guard Petty Officer Jon-Paul Rios told CNN.

U.S. Coast Guard Chief Petty Officer Ryan Doss said Carnival's original decision to keep passengers onboard was "for accountability purposes. The last thing we want to do is have someone get left behind in St. Maarten by accident."

The Dream, based in Port Canaveral, Florida, was on a seven-day cruise. The ship, which is 1,000 feet long -- about the length of three football fields -- sailed from Port Canaveral on Saturday.

It was scheduled to leave St. Maarten around 5 p.m. ET Wednesday.

After a bad cruise, can you cruise into court?

Lessons from the Triumph

Last month, an engine room fire left the Carnival Triumph crippled and adrift in the Gulf of Mexico with more than 4,200 people aboard.

That scheduled four-day cruise stretched into eight days as tugs pulled the vessel into port in Alabama. Food was scarce, and passengers sweltered in the heat with no air conditioning. People aboard also reported overflowing toilets and human waste running down the walls in some parts of the ship.

A class action lawsuit was filed against Carnival Corporation in the aftermath.

Crippled cruise ship returns; passengers happy to be back

The Triumph is still undergoing repair at a shipyard in Mobile, Alabama, Carnival spokeswoman Joyce Oliva told CNN Thursday.

"We are now focused on the lessons we can learn from the incident and also what additional operational redundancies might be available," Cahill said at the cruise industry conference this week.

Another ship, the Carnival Splendor, had a fire in 2010 due to "a catastrophic failure of a diesel generator," Cahill noted.

Sen. Jay Rockefeller, the chairman of the Commerce, Science and Transportation Committee, sent a letter Wednesday to Micky Arison, the chief executive officer of Carnival Corporation.

"The Coast Guard has responded to a string of 90 marine casualty incidents with passengers onboard Carnival ships in the last five years," the West Virginia Democrat wrote. "It seems that Carnival has failed to take any meaningful course of corrective action after these continual incidents. This needs to change."

Rockefeller said the cost to the taxpayers for the Carnival Triumph incident was almost $780,000.

Cahill said last week that the comprehensive review of the fleet "is our highest priority."

He also emphasized that the vast majority of the time, cruises experience no such problems.

Anderson said when he booked the cruise tickets for his family, some friends ribbed him about choosing Carnival, given what had happened with the Triumph. "I said, 'What are the odds of it happening to two ships in such a short period of time?'" he told CNN Thursday. "Look what happened now."

How Carnival can clean up the PR mess

CNN's Chuck Johnston, Tina Burnside and Marlena Baldacci contributed to this report.

@highlight

NEW: Passengers get letter from captain apologizing, explaining plans to fly people home

@highlight

NEW: Senator questions Carnival's improvement plans in letter to corporation CEO

@highlight

The ship's emergency generator failed while docked at Philipsburg, St. Maarten

@highlight

"There's human waste all over the floor," one passenger says