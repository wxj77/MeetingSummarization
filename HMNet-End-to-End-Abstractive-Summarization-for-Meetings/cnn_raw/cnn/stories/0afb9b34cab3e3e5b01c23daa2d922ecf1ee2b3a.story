(CNN) -- Eight-time gold medal winner at the Beijing Olympics and multiple world-record holder Michael Phelps warmed up for the Swimming World Championships in Rome by setting a new men's world record in the 100 meters butterfly.

Michael Phelps attacks the pool in Indianapolis to set a new world mark in the 100m fly.

The 24-year-old American shaved 18-hundredths of a second from the previous mark set by compatriot Ian Crocker in 2005, with a time of 50.22 on the third day of competition at the U.S. National Championships in the Indianapolis.

"I was pretty happy with my swim. I really wanted to break 50 seconds, but that is something to shoot for," Phelps told the event's official Web site.

"Ian Crocker texted me after prelims. He wished me all the luck. That really meant a lot to me as a competitor and as a friend," he added.

The new time takes Phelps's personal tally of individual world records to five, to add to the three he can claim from relay events, and means he has qualified for three events at the upcoming World Championships in Rome thus far.

Places were booked with wins in the 200m freestyle and 200m butterfly on Wednesday while a further slot could be confirmed via the 100m freestyle.

Phelps, who was banned for three months when he was pictured smoking drugs at a party after returning from Beijing, has been eager to regain his Olympic form after his enforced exile from the pool.

"This is something that I really, really wanted to accomplish," Phelps told the LA Times. "Crock and I had a lot of great history, a lot of great races with one another. I've wanted that record ever since he took it in '03 worlds. . . . After the race, you could tell I was pretty fired up and excited."

Elsewhere, twelve-time Olympic medallist Dara Torres qualified for the World Championships team in the 50m freestyle.

The American told the LA Times there was still work to do despite the result: "My coach was telling me I probably lost four or five tenths [of a second] on the start," said Torres.

"The adrenaline kind of took over so I didn't really feel (my knee injury). It's a great feeling to be able to be out there and still race [at age 42], but that time won't medal at the world championships," Torres added.

The men's 50m freestyle saw four Olympians battled for the gold, with Nathan Adrian beating his 2008 Olympic teammates Cullen Jones and Garrett Weber-Gale by 0.3 seconds.

@highlight

Michael Phelps sets new men's 100m fly world record time of 50.22

@highlight

The American has now qualified for three events at the World Championships

@highlight

Phelps, 24, now holds five personal world records in the pool

@highlight

New time went better than the mark set by compatriot Ian Crocker in 2005