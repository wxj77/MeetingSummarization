Los Angeles (CNN) -- The bitter child support and custody battle between Mel Gibson and Oksana Grigorieva apparently reached a conclusion, with Gibson agreeing in court Wednesday to pay his ex-girlfriend $750,000 and share time with their young daughter.

The settlement, which was revealed in a Los Angeles courtroom Wednesday, also allows Grigorieva to remain in the home that Gibson has provided her until Lucia, who was born in October 2009, turns 18. It then would be sold, with the money going into a trust for their child.

"Lucia was born out of love and she was a planned child," Grigorieva lawyer Daniel Horowitz said after the hearing. "They both wanted another child. Oksana wanted a settlement for Lucia's sake."

The leaks to tabloids and negative statements traded between Gibson and Grigorieva since their separation last year will apparently come to an end. The agreement requires both to stay publicly silent about the other.

The former couple with share joint custody of Lucia, splitting the time with her evenly under the agreement.

At the height of its bitterness, the battle for Lucia included domestic violence accusations made by each parent against the other. Those were later dropped as negotiations, monitored by a judge, proceeded.

Gibson entered a "no contest" plea in March to a misdemeanor battery charge relating to an incident last year involving Grigorieva. A plea deal put the actor on unsupervised probation for three years and it requires Gibson to complete 52 weeks of anger management counseling. It also allowed him to enter a no contest plea without admitting guilt.

HLN's Selin Darkalstanian contributed to this report.

@highlight

Gibson and Oksana Grigorieva share a young daughter, Lucia

@highlight

He must pay her $750,000

@highlight

She can live in a home he bought until the child turns 18

@highlight

Both of them are barred from publicly attacking the other