(CNN) -- The San Francisco, California, Board of Supervisors on Tuesday banned most McDonald's Happy Meals with toys, as they're now served.

The ordinance, which requires McDonald's and other fast-food servings with toys to meet new nutritional standards, now goes to Mayor Gavin Newsom, who indicated before his election last week to California lieutenant governor that he would veto the law.

That veto would be meaningless because the board approved the ordinance 8-3, a veto-proof margin. With eight votes, the board could override the veto.

The new law, which San Francisco officials hope other cities will adopt in battling a child obesity epidemic, was a defeat for McDonald's, which led the fight against the measure.

"As previously stated, we are extremely disappointed with this decision. It's not what our customers want, nor is it something they asked for," said McDonald's spokeswoman Danya Proud.

Proud said public opinion is against such government intervention.

"Any fair and objective review of our menu and the actions we've taken will demonstrate we've added multiple options for parents to choose. This includes Apple Dippers (bagged, sliced, pre-peeled apples), low-fat one percent milk, 100 percent apple juice and Chicken McNuggets made with white meat," Proud said in a statement. "And, as we have stated all along, we are committed to doing even more."

The new law addresses how toys and other marketing freebies entice kids to buy fast-food meals that are high in fat and calories, said Supervisor Eric Mar. He initiated the proposal because his fifth-grade daughter is in the 6-to-11 age group that has seen obesity rates quadruple over the past 30 years, the same time that the Happy Meal has been on the market.

"This is a simple and modest policy that holds fast food accountable," Mar said.

Before Tuesday's vote, Mar cited a study released this week by Yale University's Rudd Center for Food Policy and Obesity, which examined 12 popular restaurant chains and found only 12 out of more than 3,000 kids' meal combinations met the nutritional guidelines for preschool-aged kids.

The study said the fast food industry spent $4.2 billion on advertising in 2009 and found that 40 percent of preschool-aged children ask to go to McDonald's on a weekly basis, and 15 percent ask on a daily basis. Also, 84 percent of parents say they've taken their children to eat fast food at least once in the past week.

Under the law, McDonald's and other restaurants will have until December 2011 to improve their meals' nutrition by adding fruits and vegetables -- if the chains want to keep offering toys, including those promoting the latest films.

The food and beverages will have to contain fewer than 600 calories, and less than 35 percent of total calories will come from fat. The meal must contain half a cup of fruit and three-fourths cup of vegetables, and offer less than 640 milligrams of sodium and less than 0.5 milligrams of trans fat. Breakfast will have the option of offering half cups of fruit or vegetables.

City officials said they expect a legal challenge from McDonald's, which declined to comment on possible legal action.

@highlight

NEW: All fast food with toys must meet new nutrition criteria

@highlight

If nutrition standards are met, McDonald's and other chains can offer toys with meals

@highlight

The measure is part of a "food justice" movement; officials expect a legal challenge