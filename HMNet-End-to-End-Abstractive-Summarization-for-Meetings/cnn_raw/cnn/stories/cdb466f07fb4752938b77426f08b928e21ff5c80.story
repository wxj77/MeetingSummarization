(CNN) -- Two's company, three's chaos in "This Means War," a high-tech, high-octane gloss on the type of story we've seen a million times in sitcoms and screwball comedies.

Taking his cue from Doug Liman's "Mr. & Mrs. Smith," director McG aims for a kind of macho rom-com, a date movie that appeals to both men and women. The end product is slick, flashy and obnoxious.

Reese Witherspoon has top billing, but rising stars Chris Pine and Tom Hardy call the shots as charmingly irresponsible CIA operatives FDR and Tuck. After an embarrassing fracas overseas, these best buds are assigned to office duty. And with homeland security very much on the back burner, it's not long before their thoughts turn to women ... or, as fate would have it, the same woman.

Divorced dad Tuck meets Lauren through a dating agency. They hit it off. But within minutes of their first date, she bumps into FDR, a confirmed bachelor and ladies man. She calls him on his transparent lines, but he's persistent, and circumstances throw them back together even as she fixes up a second date with Tuck. (Lauren's a consumer products tester by trade, not someone who'd buy a car without taking it for a spin.)

When they realize they're both chasing the same girl, the guys decide to let the lady make her choice -- without coming clean. Of course, neither can resist spying on the other's progress, despite a gentleman's agreement not to.

In the movie's breeziest patches, the two hunks eavesdrop on Lauren as she compares their shortcomings with BFF Trish (an authentically abrasive Chelsea Handler).

It might help if both men didn't come off so self-involved. We're meant to understand they love each other, as much as -- and probably more than -- Lauren, but that doesn't make their romantic trickery any easier to stomach.

Hardy is a terrifically intense actor, who made a strong impression in "Bronson" and "Warrior," and will soon be appearing as Bane in "The Dark Knight Rises." But he doesn't make as much sense as a sensitive and domesticated superagent.

Pine, on the other hand, is all too convincing as a smug and superficial womanizer.

Witherspoon has the trickiest job of all, trying to retain our sympathies as she falls for both men. She might have pulled it off, except, it seems, "Charlie's Angels" director McG isn't interested in the emotional integrity of the character. He appeared far more invested in showing off the latest spyware gizmos and gadgets.

In almost every respect, "This Means War" can be seen as the polar opposite of Witherspoon's last rom-com, "How Do You Know." Most critics weren't kind to that picture (and it bombed in theaters), but, at the very least, it was an attempt to make sense of sex and romance in a real way. This crass and miscalculated movie might have been engineered by machines.

@highlight

Director McG aims for a kind of macho rom-com appealing to both sexes

@highlight

Chris Pine and Tom Hardy play CIA operatives who fall for the same woman

@highlight

Hardy cast as sensitive and domesticated, while Pine plays smug womanizer