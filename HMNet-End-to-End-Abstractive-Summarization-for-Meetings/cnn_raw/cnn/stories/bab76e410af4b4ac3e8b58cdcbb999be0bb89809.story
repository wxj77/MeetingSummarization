In a major defeat for supporters of tougher gun laws, the U.S. Senate on Wednesday defeated a compromise plan to expand background checks on firearms sales as well as a proposal to ban some semi-automatic weapons modeled after military assault weapons.

The votes were on a series of amendments to a broad package of gun laws pushed by President Barack Obama and Democratic leaders in the aftermath of the Newtown school massacre in December.

However, fierce opposition by the powerful National Rifle Association led a backlash by conservative Republicans and a few Democrats from pro-gun states that doomed key proposals in the gun package, even after they had been watered down to try to satisfy opponents.

After the votes, Obama angrily criticized the NRA and senators who voted against the expanded background checks for rejecting a compromise he said was supported by a strong majority of Americans.

Public opinion gets trumped in gun control defeat

"Instead of supporting this compromise, the gun lobby and its allies willfully lied about the bill," Obama told White House reporters.

Noting polls that showed 90% support for such a measure, Obama called it a "pretty shameful day for Washington" and wondered of Congress: "Who are we here to represent?"

He was flanked by relatives of gun violence victims as well as former Rep. Gabrielle Giffords, a gun owner who was disabled in a shooting attack and supported Obama's proposals.

A statement by Giffords and her husband, former astronaut Mark Kelly, said the Senate had "ignored the will of the American people," adding that those senators who voted against the expanded background checks chose to "obey the leaders of the powerful corporate gun lobby, instead of their constituents."

To Erica Lafferty, the daughter of the principal of the Newtown, Connecticut, school who was killed along with 20 first-graders and five other educators in the December attack, the vote amounted to inaction in the face of a national tragedy.

"The next time there's a mass shooting and they're asked what they did to prevent it, they're going to have to say nothing," she said.

On the other side, the NRA's Chris Cox called the expanded background check proposal "misguided," saying it would not reduce violent crime "or keep our kids safe in their schools."

The broader gun package still under consideration by the Senate includes tougher laws on gun trafficking and straw purchases, and steps to devise ways to improve safety in schools.

Obama: 'This was a pretty shameful day in Washington'

As originally proposed, with a provision to expand background checks, it would have been the most significant gun legislation before Congress in almost two decades.

Due to early opposition to the background check provision, Democratic Sen. Joe Manchin of West Virginia and Republican Sen. Pat Toomey of Pennsylvania worked out a compromise that was less comprehensive than what Obama wanted but still gained the president's support.

The Manchin-Toomey plan would have expanded background checks to include private sales at gun shows and all Internet sales, while continuing to exempt most sales between family members and friends.

Due to procedural steps agreed to by both sides, all the amendments considered Wednesday required 60 votes to pass in the 100-member chamber, meaning Democrats and their independent allies who hold 55 seats needed support from some GOP senators to push through the Manchin-Toomey proposal.

The final vote was 54 in favor to 46 opposed with four Republicans joining most Democrats in supporting the compromise. With the outcome obvious, Senate Majority Leader Harry Reid, D-Nevada, cast a "no" vote to secure the ability to bring the measure up again.

Meanwhile, four Democrats from pro-gun states voted with most Republicans in opposition.

Giffords on senators: 'Shame on them'

When the result was announced by Vice President Joe Biden, who presided over the chamber for the vote, two women in the gallery of spectators shouted "shame on you" at the senators.

"They are an embarrassment to this country that they don't have any compassion or care for people who have been taken brutally from their families," said one of them, Patricia Maisch, who grabbed the gun magazine from the attacker who shot Giffords and several other people in Tucson in January 2011.

On the proposal by Democratic Sen. Dianne Feinstein of California to update a 1994 ban on semi-automatic weapons that expired in 2004, the vote was 40-60, showing opposition by several Democrats as well as the chamber's Republican minority.

Obama had pushed for Congress to include both the expanded background checks provision and the weapons ban in any gun package. In recent weeks, he and the White House focused their efforts on winning support for the Manchin-Toomey compromise.

However, the NRA promised political retribution against supporters of  tougher gun laws, and it called the expanded background checks a first step toward a national gun registry and government confiscation of firearms.

Obama called that claim misinformation, noting the Manchin-Toomey proposal prohibited such a registry. He said the tactics of the NRA galvanized a vocal minority of gun owners against the legislation, which caused some senators to flinch.

Rand Paul: OBama used Newtown families as 'props'

"They worried that the gun lobby would spend a lot of money and paint them as anti-Second Amendment," Obama said. "And obviously a lot of Republicans had that fear, but Democrats had that fear, too. And so they caved to the pressure.  And they started looking for an excuse, any excuse to vote 'no.'"

Reid earlier warned Republicans that the strong majority of Americans who support expanded background checks won't forget votes against the Manchin-Toomey compromise.

"The American people ... have a long, long memory," he said.

Meanwhile, an alternative package of gun proposal that reflected the NRA position also was defeated.

Offerd by conservative Republicans, the alternative plan introduced Wednesday after weeks of  hearings and debate on Democratic proposals lacked any expansion of background checks but called for more funding to better enforce the existing system.

Emotions high as political world reacts

A sponsor of the Republican alternative, Sen. Ted Cruz of Texas, said it would target the gun violence problem in a way that the Democratic proposal before the Senate would not.

In response, Judiciary Committee Chairman Sen. Pat Leahy, D-Vermont, called the GOP's last-minute proposal a "weak and counterproductive alternative."

Other proposed amendments defeated Wednesday included a plan by Republican Sen. John Cornyn of Texas to make state concealed weapons permits acceptable throughout the country., as well as a proposal by Democratic Sen. Frank Lautenberg of New Jersey to limit the number of rounds in ammunition magazines.

Any legislation passed by the Senate would then go to the Republican-led House. So far, House Speaker John Boehner has stopped short of promising a vote on whatever the Senate sends over.

Polls show that a strong majority of Americans support some type of initiative to stem gun violence. In a CNN/ORC International poll released last week, 86% of Americans say they support expanded background checks.

@highlight

President Obama says gun law foes "willfully lied"

@highlight

Major components of Obama's gun proposals fail to win Senate approval

@highlight

Supporters of new gun laws blame the defeats on NRA influence in Congress

@highlight

Polls show most  Americans support expanded background checks