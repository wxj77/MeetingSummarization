(CNN) -- Real Madrid may have ended Barcelona's Spanish title reign in midweek, but Lionel Messi is poised to dethrone Cristiano Ronaldo as La Liga's goal king after adding four more to his tally on Saturday.

The three-time world player of the year paid the ultimate tribute to Josep Guardiola in the coach's final home game, which ended in a 4-0 victory over city rivals Espanyol.

The Argentina forward went into the match having already broken Gerd Muller's longstanding record of 67 goals in a European season, and he took his tally to an incredible 72 ahead of next weekend's closing league game at Real Betis.

Fifty of those have come in La Liga, putting him five clear of Ronaldo -- who also scored in Saturday's 2-1 win at Granada that kept Real seven points clear of Barca.

It was an emotional night at the Camp Nou, where Guardiola said farewell to the fans he has enthralled with his team's magical style of football since taking over in 2008.

"I'll see you all soon, you will never lose me. I will miss you all very much. I'm the one on the losing end," he told the crowd.

Then, referring to his assistant Tito Vilanova, who will take over the top job next season, he added: "I leave you in the best possible hands. You don't know how appreciated I feel when I go home. Thank you all."

Messi opened the scoring in the 12th minute with a superb free-kick, then his second-half treble was aided by two penalties either side of a trademark low left-foot drive.

Ronaldo, who topped the La Liga scoring charts last season with a then record 40 goals, was also on target from the spot as Madrid came from behind to snatch victory.

Granada, battling to avoid relegation, led through Franco Jara in the fifth minute, but the world's most expensive player leveled in the 81st minute after being brought down in the box.

Then, in time added on, David Cortes diverted Karim Benzema's cross into his own net to give Real the chance to finish the season on 100 points with victory next Sunday.

Valencia guaranteed third place -- 29 points behind Barca -- with a 1-0 win over Villarreal, who face a final-day fight to avoid dropping into the bottom three.

Malaga's bid for fourth place suffered a blow with a 2-1 defeat at Atletico Madrid, who are now two points adrift in fifth.

Levante and Mallorca are another point back after the latter side won their clash 1-0.

Second-bottom Sporting Gijon could still survive after a 2-1 win over Betis left the club three points adrift of Zaragoza and Vallecano.

@highlight

Lionel Messi takes his La Liga tally to 50 goals this season with four against Espanyol

@highlight

Derby match marks coach Pep Guardiola's final home game before stepping down

@highlight

Messi is five goals clear of Cristiano Ronaldo ahead of closing round next weekend

@highlight

Argentina star has now scored 72 times for his club in all competitions this season