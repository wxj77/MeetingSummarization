(CNN) -- Bahrain lifted state of emergency laws Wednesday that had allowed for a crackdown on political leaders and journalists, but at the same time continued its crackdown on the country's major Shiite political opposition movement and stifled the latest street protests.

It filed charges against four top opposition leaders in a move that could weaken the country's Al Wefaq party, according to two opposition sources. This came as King Hamad bin Isa Al Khalifa appealed for dialogue, saying that talks with opposition groups are scheduled to begin in July.

The lifting of the emergency laws, imposed in mid-March, is thought to be an effort to signal an end to months of civil unrest stemming from the Arab Spring, a wave of anti-government demonstrations that started in Tunisia and have since roiled several countries in the Middle East and North Africa, including Egypt, Syria, Yemen and Bahrain.

But the announcement by the country's Information Affairs Authority followed one from the justice ministry the day before warning against "any type of activities that could affect the security or harm the national peace and safety."

Meanwhile, protesters gathered across Bahrain, in locations including Aldiraz, Daih, Bani Jamrah, Karzakan, Abo Qowa, Duraz and Sitra, according to Nabeel Rajab, a prominent Bahraini human rights activist.

Rajab said peaceful protesters were attacked by security forces with tear gas and rubber bullets, causing injuries but no deaths. The demonstrations were dispersed soon after they started, he said.

The country is set to hold parliamentary elections in September, filling seats vacated by members of Al Wefaq, which left parliament in protest over the crackdown.

The military prosecutor in Bahrain on Tuesday summoned four top Al Wefaq leaders and presented them with charges that could result in prison terms, the two opposition sources told CNN. The sources didn't know what the charges were.

It is not clear whether those opposition leaders will be permitted to take part in the September elections. If someone faces charges, they can't run for election or travel out of the country.

The four are Sheikh Ali Salman, Wefaq's leader, Abdul Khalil Jalil, the leader of Al Wefaq's parliament bloc, Khalil al-Marzooq, who once was deputy leader of that bloc, and another lawmaker whose identity was not available.

Two other Al Wefaq members had already been detained and another is out of the country.

One of the two is Matar Ebrahim Matar. Bahrain said he is being detained based on evidence provided to the courts, but one of his relatives told CNN that family members are not aware of any charges against Matar.

Protesters initially took to the streets of Manama, the capital, to demand reform and the introduction of a constitutional monarchy. But some have called for the removal of the royal family that has led the Persian Gulf state since the 18th century.

Young members of the country's Shiite majority have staged protests in recent years to complain about discrimination, unemployment and corruption, issues they say the country's Sunni rulers have done little to address.

The government has since come under intense criticism by human rights groups over its detentions.

Also last week, Bahrain said it had released 515 detainees imprisoned since the state of emergency went into effect. It is unclear how many people were in custody.

Last week, the United States pulled its human rights officer from the U.S. Embassy in Bahrain after he became the target of a harassment campaign that senior American officials say appears to have been fanned by some hard-line members of the government.

Ludovic Hood was for months the subject of threats and anti-Semitic slurs on a pro-government website and in state-sanctioned newspapers, the officials said. Hood was scheduled to leave the country this summer, as his tour of duty was coming to a close. But senior U.S. officials said the embassy sent him home several weeks early over concern for his safety.

@highlight

The country lifts emergency laws imposed since mid-March

@highlight

Bahrain files charges against four Wefaq leaders, opposition sources say

@highlight

King Hamad bin Isa Al Khalifa appeals for dialogue with opposition groups

@highlight

The country is set to hold parliamentary elections in September