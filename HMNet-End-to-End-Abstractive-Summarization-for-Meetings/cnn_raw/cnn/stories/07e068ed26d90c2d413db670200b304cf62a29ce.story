Elliot Rodger stood in the doorway, talking to sheriff's deputies who had come to check on his welfare, and worried that his plan to kill was over.

Last month, officers visited Rodger, 22, who they say killed six people and himself Friday night, at his apartment in Isla Vista, California.

"I had the striking and devastating fear that someone had somehow discovered what I was planning to do, and reported me for it," Rodger wrote toward the end of a 137-page account of his life. "If that was the case, the police would have searched my room, found all of my guns and weapons, along with my writings about what I plan to do with them.

"I would have been thrown in jail, denied of the chance to exact revenge on my enemies. I can't imagine a hell darker than that."

The manifesto, titled "My Twisted World," was obtained by CNN affiliate KEYT.

"It was apparent he was very mentally disturbed," Santa Barbara County Sheriff Bill Brown said, referring to the contents of the autobiography.

So disturbed that someone from a mental health agency, after consulting with one of Rodger's relatives, requested police check on his welfare April 30, Brown said.

Rodger's family contacted police after discovering social media posts about suicide and killing people, family spokesman and attorney Alan Shifman told reporters Saturday.

Brown said Rodger told deputies it was a misunderstanding and that he was not going to hurt anyone or himself. Rodger said he was having troubles with his social life.

"He was articulate. He was polite. He was timid," Brown told CNN on Sunday.

There was nothing in his behavior to suggest he was violent, and the deputies "determined he did not meet the criteria for an involuntary hold," Brown said.

Rodger wrote that a wave of relief came over him when the deputies left.  "If they had demanded to search my room ... (t)hat would have ended everything. For a few horrible seconds, I thought it was all over."

After that, Rodger wrote, he kept one of his guns and some loaded magazines near him so if police came back to his apartment, he would try to shoot them and escape.  "Thankfully, all suspicion of me was dropped after I took down the videos from Youtube, and the police never came back."

"It was all because of the videos. I must have expressed too much anger in them. I immediately took most of them off of Youtube, and planned to reupload them a few days before the Day of Retribution." Rodger uploaded a video Friday, calling it his last.

Sheriff: Plan took a year

The angst leading up to Friday's evening of horror was years in the making. The plan to kill many people apparently had come together in the past year, Brown said.

Rodger was frustrated by his short stature, his parents' divorce and his lack of success with women -- and chronicled his perceived misfortunes in his manifesto.

He picked Friday to launch a killing rampage, outlined later by police.

It started at his own home in Isla Vista, near the scenic beaches of Southern California. Rodger stabbed three men to death at his home. They are Cheng Yuan Hong, 20, and George Chen, 19, both of San Jose, and Weihan Wang, 20, of Fremont, the Santa Barbara County Sheriff's Office confirmed Sunday.

They were students at the University of California, Santa Barbara, the Sheriff's Office said. Hong and Chen were "listed on the lease for the apartment as tenants, along with Rodger," the Sheriff's Office said.

Rodger then took his handguns and went to the Alpha Phi sorority house near UC Santa Barbara campus; he hinted at the carnage he'd inflict at the sorority house in the YouTube video called "Retribution."

"On the day of retribution I'm going to enter the hottest sorority house of UCSB," he said in the video. "I'll take great pleasure in slaughtering all of you."

On Friday night, sorority members heard loud knocking on the front door for several minutes -- but nobody answered.

Minutes later, Rodger sprayed bullets at the house from across the street, Brown said.

Witness Kyle Sullivan saw three young women lying on the front lawn.

"There was a young girl, laying right here. And she was -- I could tell immediately she was gone," said Sullivan, 19. "I saw a gunshot wound to her abdomen, also one to her side and one through her head."

She wasn't alone.

"There was a girl right here and she was really struggling. You could tell she was barely able to move her eyes and just moving her arms slightly," Sullivan said. "And there was another girl right here. You could tell she was lying down crouched. She was still conscious, talking."

By the end of the night, two of the three young women had died -- Katherine Cooper, 22, and Veronika Weiss, 19. Both were students at UC Santa Barbara.

Delta Delta Delta said on its Twitter page Sunday that it mourned the loss of two of its sisters.

"Tri Delta is saddened by the tragic loss of two members at UCSB. Our thoughts are with their family, friends, and Gamma Theta Chapter," the message said.

Alpha Phi posted on its Facebook page Saturday that "all our members are safe."

Rampage continues

Rodger then zoomed around town in a black BMW, stopping at a delicatessen where he shot and killed Christopher Martinez, another UC Santa Barbara student.

Exactly why, no one knows for sure.

Rodger got back in his car, and the killing rampage continued.

He dashed around town, reportedly driving down the wrong side of the road so he could fire out the driver's side window near the sidewalk. He shot at two people on the sidewalk, pulled a handgun on a woman and fired some more, Brown said.

He encountered a sheriff's deputy who was on foot and exchanged gunfire.

Witness Ian Papa said he was inches away on the street when the gunman's car sped up and struck two bicyclists.

"It happened so fast," he said. "I had no time to react. I jumped on the sidewalk and I see a man on a BMW, his body inside the windshield and glass broken everywhere. ... I almost wanted to break into tears."

The nightmare finally ended after Rodger slammed into a parked vehicle and apparently shot himself in the head, police said.

By the time the melee was over, six victims were dead, 13 were injured, and a quiet beachfront community was left to wonder how this could happen -- and whether anyone could have prevented it.

In the nearly seven-minute video posted Friday, Rodger rants about women who ignored or rejected him over the past eight years, "since I hit puberty."

"Tomorrow is the day of retribution, the day in which I will have my revenge," he says in what he calls his last video. "You girls have never been attracted to me. I don't know why you girls aren't attracted to me, but I will punish you all for it." He specifically criticized sorority members.

Unused ammo

It's unclear what Rodger might have done had he not wrecked his car.  Inside the wrecked BMW, Brown said, police found three handguns -- all legally purchased -- and more than 400 rounds of unused ammunition. Brown said the guns were purchased the firearms over the past year in three different cities.

Martinez's father, Richard, said some politicians and the National Rifle Association are also to blame for his son's death.

"Chris died because of craven, irresponsible politicians and the NRA," he said. "They talk about gun rights -- what about Chris' right to live? When will this insanity stop?"

Rodger suffered from an undisclosed mental health issue and was under the care of a variety of health care professionals, Brown said.

But there was no indication he had been committed to a mental health facility.

Rodger passed the background check needed to buy the firearm used in the shooting, a law enforcement official briefed on the investigation told CNN. The official said nothing had been found in the gun trace to indicate Rodger should have been disqualified.

Law enforcement officers were searching the separate homes of the suspect's mother and father Sunday, a law enforcement official with knowledge of the investigation told CNN. The officers were from the Santa Barbara County Sheriff's Department and the U.S. Bureau of Alcohol, Tobacco, Firearms and Explosives, the source said.

The manifesto

In the manuscript of his life's story, Rodger often mentioned feeling slighted or inferior, such as when he was denied entry on an amusement park ride at age 6 while other boys his age got to go on.

"Being denied entry on a simple amusement park ride due to my height may seem like only a small injustice, but it was big for me at time," Rodger wrote. "Little did I know, this injustice was very small indeed compared to all the things I'll be denied in the future because of my height."

He described his parents' divorce as a devastating, "life-changing event," but said he gained more respect for his father after he quickly acquired a girlfriend.

"Males who can easily find female mates garner more respect from their fellow men, even children," Rodger wrote. "How ironic is it that my father, one of those men who could easily find a girlfriend, has a son who would struggle all his life to find a girlfriend."

But the overarching theme of the manifesto focuses on his frustrations with women.

"My orchestration of the Day of Retribution is my attempt to do everything, in my power, to destroy everything I cannot have," Rodger wrote.

"All of those beautiful girls I've desired so much in my life, but can never have because they despise and loathe me, I will destroy. All of those popular people who live hedonistic lives of pleasure, I will destroy, because they never accepted me as one of them. I will kill them all and make them suffer, just as they have made me suffer. It is only fair."

Who's the man behind the rampage

@highlight

Names of three other victims released

@highlight

Elliot Rodger had guns and plans to kill people when deputies came to his home

@highlight

Authorities say he killed 6 people Friday before apparently shooting himself in the head

@highlight

Rodger wrote 140 pages about his life and frustrations about women